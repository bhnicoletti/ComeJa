<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                template="./template.xhtml"
                xmlns:p="http://primefaces.org/ui"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:f="http://xmlns.jcp.org/jsf/core">

    <ui:define name="title"><title>ComeJÃ¡ - Restaurantes</title></ui:define>
    <ui:define name="content">
        <h:form>     
            
             <nav>
                <div class="nav-wrapper">
                    <div class="col s12 center-align">
                        <a href="restaurantes.jsf" class="breadcrumb">Restaurantes</a>                      
                    </div>
                </div>
            </nav>

            <br></br>
            <div class="row">
                <div class="col s12">
                    <h3>Restaurantes</h3>
                </div>
            </div>
            <div class="row">
                <div class="col s0 m0 l1"><br></br></div>
                <div class="col s12 m12 l10">
                    <h:outputText value="Buscar por cidade"/>
                    <h:selectOneRadio converter="cidadeConverter" value="#{listaRestauranteBean.filtro.cidadePessoa}">
                        <f:selectItems value="#{cidadeBean.listarCidade()}" var="cidade" itemValue="#{cidade}" itemLabel="#{cidade.nome}"/>                    
                    </h:selectOneRadio>
                    <p:commandButton update="listaEmpresas" value="Filtrar"/>
                    <br></br>
                    <p:dataGrid id="listaEmpresas"
                        class="pagination" layout="grid" value="#{listaRestauranteBean.model}" columns="4" paginator="true" lazy="true" rows="4" var="empresa" emptyMessage="Nenhum restaurante encontrado">
                       <div class="card">
                            <div class="card-content white-text center-align" style="height: 100px">
                                <h5 class="center-align">#{empresa.nomeFantasiaPessoa}</h5>                        
                            </div>
                            <div class="row center-align">
                                <p:graphicImage height="130" width="130" value="../imagens/#{empresa.imagem}"/>
                                <br></br>
                                <div class="card-action center-align red">
                                    <p:commandButton value="Ver Menu" action="#{produtoBean.carregarProdutos(empresa.idPessoa)}"/>
                                </div>
                            </div>
                        </div>

                    </p:dataGrid>
                </div>
                <div class="col s0 m0 l1"><br></br></div>
            </div>
        </h:form>
    </ui:define>

</ui:composition>
